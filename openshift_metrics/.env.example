# =============================================================================
# OPENSHIFT METRICS CONFIGURATION
# =============================================================================
# This file contains all configuration options for the openshift metrics system.
# All variables are lexicographically identical to the python variables in config.py
#
# TO USE: Copy this file to .env in the openshift_metrics directory
# Command: cp env_config.txt .env
# Then modify the values as needed for your environment.

# =============================================================================
# INFRASTRUCTURE CONFIGURATION
# =============================================================================

# OpenShift/Prometheus Configuration
OPENSHIFT_PROMETHEUS_URL=https://thanos-querier-openshift-monitoring.apps.shift.nerc.mghpcc.org
OPENSHIFT_TOKEN=your_openshift_token_here

# S3 Configuration
S3_OUTPUT_ENDPOINT_URL=https://s3.us-east-005.backblazeb2.com
S3_OUTPUT_ACCESS_KEY_ID=your_s3_access_key_here
S3_OUTPUT_SECRET_ACCESS_KEY=your_s3_secret_key_here
S3_INVOICE_BUCKET=nerc-invoicing
S3_METRICS_BUCKET=openshift_metrics

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================

# Metrics processing intervals
INTERVAL_MINUTES=15
STEP_MINUTES=15
GPU_MAPPING_FILE=gpu_node_map.json

# HTTP retry configuration
HTTP_RETRY_TOTAL=3
HTTP_RETRY_BACKOFF_FACTOR=1

# =============================================================================
# REPORT CONFIGURATION (formerly CLI arguments)
# =============================================================================

# Report dates (leave empty to use defaults - yesterday)
REPORT_START_DATE=
REPORT_END_DATE=

# Upload configuration
UPLOAD_TO_S3=false

# File configuration (leave empty to use default naming patterns)
OUTPUT_FILE=
INVOICE_FILE=
POD_REPORT_FILE=
CLASS_INVOICE_FILE=

# Ignore hours configuration (comma-separated timestamp ranges)
# Format: YYYY-MM-DDTHH:MM:SS,YYYY-MM-DDTHH:MM:SS
IGNORE_HOURS=

# =============================================================================
# RATES AND BILLING CONFIGURATION
# =============================================================================

# Rate source configuration
USE_NERC_RATES=false

# Individual rates (Decimal values)
RATE_CPU_SU=0.013
RATE_GPU_V100_SU=1.214
RATE_GPU_A100SXM4_SU=2.078
RATE_GPU_A100_SU=1.803
RATE_GPU_H100_SU=6.04

# Legacy rate (for backward compatibility)
GPU_A100_RATE=1.803

# =============================================================================
# BUSINESS LOGIC CONFIGURATION
# =============================================================================

# Namespaces that support class-based reporting (comma-separated)
NAMESPACES_WITH_CLASSES=rhods-notebooks

# =============================================================================
# GPU CONFIGURATION
# =============================================================================

# GPU types
GPU_A100=NVIDIA-A100-40GB
GPU_A100_SXM4=NVIDIA-A100-SXM4-40GB
GPU_V100=Tesla-V100-PCIE-32GB
GPU_H100=NVIDIA-H100-80GB-HBM3

# GPU Resource - MIG Geometries
MIG_1G_5GB=nvidia.com/mig-1g.5gb
MIG_2G_10GB=nvidia.com/mig-2g.10gb
MIG_3G_20GB=nvidia.com/mig-3g.20gb
WHOLE_GPU=nvidia.com/gpu

# VM GPU Resources
VM_GPU_H100=nvidia.com/H100_SXM5_80GB
VM_GPU_A100_SXM4=nvidia.com/A100_SXM4_40GB
VM_GPU_V100=nvidia.com/GV100GL_Tesla_V100
